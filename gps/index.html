<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <script src="../bower_components/webcomponentsjs/webcomponents.min.js"></script>
  <script src="../libraries/foundation/js/vendor/jquery.js"></script>
  <title>HealthyTokyo Partners Near You</title>
</head>
<body>
<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/google-map/google-map.html">
  <style>
    google-map {
      height: 100vh;
      width: 100vw;
    }
  </style>
  <google-map latitude="35.75231" longitude="140.03373" zoom="13"></google-map>
  <script>
    $(function() {
      var response = {"0_Ohshima Memorial Kisen Hospital":["140.03373520000002","35.7523199","https:healthytokyo.commedicalohshima-memorial-kisen-hospital"],"1_The Cancer Institute Hospital of JFCR":["139.79497700929642","35.63428124276273","https:healthytokyo.commedicalthe-cancer-institute-hospital-of-jfcr"],"2_Takako Clinic":["139.7012704","35.6567223","https:healthytokyo.commedicaltakako-clinic"],"3_Tokyo Ginza Shintani Dental, Oral & Maxillofacial Surgery Clinic":["139.7680838","35.6738722","https:healthytokyo.commedicaltokyo-ginza-shintani-dental"],"4_Ito Hospital":["139.71059149999996","35.6663909","https:healthytokyo.commedicalito-hospital"],"5_Nagoya Kyouritsu Hospital":["136.84816449999994","35.1273018","https:healthytokyo.commedicalnagoya-kyouritsu-hospital"],"6_Feliz Hiroo Dental Clinic":["139.71732199999997","35.6484321","https:healthytokyo.commedicalfeliz-hiroo-dental-clinic"],"7_Daimon Medical Clinic":["139.75494619999995","35.6560045","https:healthytokyo.commedicaldaimon-medical-clinic"],"8_Tokyo Physio":["139.7232355","35.6456493","https:healthytokyo.commedicaltokyo-physio"],"9_Tokyo Clinic Dental Office":["139.74640391904904","35.6589092053331","https:healthytokyo.commedicaltokyo-clinic-dental-office"]}
      for (var clinic in response) {
        mapTag(response[clinic][1], response[clinic][0], (clinic + " " + response[clinic][2].toString()));
      }

      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
      }
      else{
        alert('Geolocation Is not Supported By This Browser');
      }

      function showPosition(position) {
        $("google-map").attr("latitude", position.coords.latitude);
        $("google-map").attr("longitude", position.coords.longitude);
        mapTag(position.coords.latitude, position.coords.longitude, "Your Current Location");
      }
      function mapTag(latitude, longitude, contents){
        var newMarker = '<google-map-marker latitude="' +
          latitude.toString() +
          '" longitude="' +
          longitude.toString() + '">' +
           contents +
          '</google-map-marker>';
        $("google-map").append(newMarker);
      }
    });
  </script>
</body>
</html>